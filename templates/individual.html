{% extends 'base.html' %}

{% block head %}
<title>Combustion Research Lab | People</title>
<style>
    .pro{
        justify-content: center;
        flex-direction: column;
    }

    .column .card {
        align-self: center;
    }

    .btnsGroup {
        display: flex;
        flex-direction: column;
        width: fit-content;
    }
</style>
{% endblock %}

{% block body %}
<header>
    <div class="container" id="banner" style="justify-content: center;">
        <div class="row banner">
            <img src="{{ url_for('static', filename='assets/logo.png')}}" width="64px" height="64px">
            <h1 style="text-align: center;">Combustion Research Lab</h1>
        </div>
    </div>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
        <a class="navbar-brand" href="{{ url_for('index')}}">IIT Bombay</a>
        <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse"
            data-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false"
            aria-label="Toggle navigation">
            <img src="{{ url_for('static', filename='assets/logo.png')}}" width="30" height="30" class="d-inline-block align-top">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('index')}}">Home</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link" href="{{ url_for('people')}}">People <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('research') }}">Research</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('publications') }}">Publications</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('facilities') }}">Facilities</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{ url_for('interestingLinks') }}">Interesting Links</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{{url_for('login')}}">Login</a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<div class="container">

    <div class="row back">
        <h1>
            <a class="btn btn-primary" href="{{url_for('people')}}" role="button">
                <i class="fa fa-chevron-left" aria-hidden="true"></i>
                Back
            </a>
        </h1>
    </div>

    <div class="row pro">
        <div class="column card">
            <div class="card" style="width: 18rem;">
                <img class="card-img-top" 
                src="data:;base64,{{ image }}" 
                alt="Card image cap">
                <div class="card-body">
                    {% for item in people %}
                    <h4 class="card-title">
                        {{ item.name }}
                    </h4>
                    <h5>
                        {{ item.designation }}
                    </h5>
                    {{ item.details}}
                    {{ item.address }}
                    <br>
                    {% endfor %}
                </div>
                <div class="btnsGroup">
                    {% for item in contacts %}
                    <button type="button" class="btn btn-primary">
                        <i class="fa fa-phone-square" aria-hidden="true"></i>
                        {{ item.details }}
                    </button>
                    <br>
                    {% endfor %}
                </div>

            </div>
        </div>

        <div class="column list">
            <ul class="list-group">

                {% if academics|length > 0 %}
                <div class="academicList">
                    <a data-toggle="collapse" href="#academics" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">Academic Qualifications
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="academics">
                        <li class="list-group-item">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th scope="col">Degree</th>
                                            <th scope="col">Year</th>
                                            <th scope="col">University/Institution</th>
                                            <th scope="col">Remarks</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% for item in academics %}
                                        <tr>
                                            <th scope="row">{{ item.degree }}</th>
                                            <td>{{ item.year }}</td>
                                            <td>{{ item.university }}</td>
                                            <td>{{ item.remarks }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </li>
                    </div>
                </div>
                {% endif %}

                {% if research|length > 0 %}
                <div class="researchList">
                    <a data-toggle="collapse" href="#reserach" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">Research Interests
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="reserach">
                        <li class="list-group-item">
                            {% for item in research %}
                            {{ item.text }}
                            {% endfor %}
                        </li>
                    </div>
                </div>
                {% endif %}

                {% if awards|length > 0 %}
                <div class="awardsList">
                    <a data-toggle="collapse" href="#awards" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">Awards , Recognitions and
                            memberships
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="awards">
                        <ul class="list-group list-group-flush">
                            {% for item in awards %}
                            <li class="list-group-item">
                                <a href="{{ item.link }}">  {{ item.text }} </a>
                            </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
                {% endif %}

                {% if positions|length > 0 %}
                <div class="positionList">
                    <a data-toggle="collapse" href="#positions" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">Positions held
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="positions">
                        <ul class="list-group list-group-flush">

                            {% for item in positions %}
                            <li class="list-group-item">
                                {{ item.date }}  <br>
                                {{ item.position }} @
                                <a href="{{ item.link }}">  {{ item.organization }} </a>
                            </li>
                            {% endfor %}
                            
                        </ul>
                    </div>
                </div>
                {% endif %}

                {% if pubs|length > 0 %}
                <div class="paperList">
                    <a data-toggle="collapse" href="#journals" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">List of Publications in Journals
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="journals">
                        <li class="list-group-item">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th scope="col">No#</th>
                                            <th scope="col">Paper Name</th>
                                            <th scope="col">Year</th>
                                            <th scope="col">Journal</th>
                                            <th scope="col">Citations</th>
                                        </tr>
                                    <tbody id="scholarPapers">
                                        {% for i in range(pubs|length) %}
                                        <tr>
                                            <td>{{ i+1 }}</td>
                                            <td>
                                                <a href="{{ pubs[i].link }}"> {{ pubs[i].name }} </a>
                                            </td>
                                            <td>{{ pubs[i].year }}</td>
                                            <td>{{ pubs[i].journal }}</td>
                                            <td>{{ pubs[i].citations }}</td>
                                        </tr>
                                        {% endfor %}
                                    </tbody>
                                    </thead>
                                </table>
                            </div>
                        </li>
                    </div>
                </div>
                {% endif %}

                {% if ctitle|length > 0 %}
                <div class="conferenceList">
                    <a data-toggle="collapse" href="#conference" role="button" aria-expanded="false"
                        aria-controls="collapseExample">
                        <li style="text-align: center;" class="list-group-item active">Conference Papers
                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </li>
                    </a>
                    <div class="collapse" id="conference">
                        <li class="list-group-item">
                            {% for i in range(ctitle|length) %}
                            <a href="{{ clink[i] }}">
                                {{ i+1 }}.
                                {{ ctitle[i] }}
                            </a>
                            <hr>
                            {% endfor %}
                        </li>
                    </div>
                </div>
                {% endif %}

            </ul>
        </div>
    </div>
</div>
{% endblock %}